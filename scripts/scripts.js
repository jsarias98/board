"use strict";window.app_version=2,angular.module("dashyAngular",["ui.router","ngAnimate","ui.bootstrap","textAngular","ui.calendar","perfect_scrollbar","angular-loading-bar","chart.js","angular-growl","angulartics","angulartics.google.analytics","gridshore.c3js.chart","growlNotifications","ngResource","mdo-angular-cryptography","vcRecaptcha"]).config(["cfpLoadingBarProvider",function(e){e.latencyThreshold=5,e.includeSpinner=!1}]).config(["$cryptoProvider",function(e){e.setCryptographyKey("api6102EXODO")}]).config(["$stateProvider","$urlRouterProvider",function(e,a){a.when("/dashboard","/login"),a.otherwise("/login"),e.state("plain",{"abstract":!0,url:"",templateUrl:"views/layouts/plain.html?v="+window.app_version}).state("boxed",{"abstract":!0,url:"",parent:"plain",templateUrl:"views/layouts/boxed.html?v="+window.app_version}).state("login",{url:"/login",parent:"boxed",templateUrl:"views/pages/login.html?v="+window.app_version,controller:"LoginCtrl"}).state("dashboard",{url:"/dashboard",parent:"plain",templateUrl:"views/layouts/dashboard.html?v="+window.app_version,controller:"DashboardCtrl"}).state("users",{url:"/users",parent:"dashboard",templateUrl:"views/pages/dashboard/users.html?v="+window.app_version,controller:"UsersCtrl"}).state("users-detail",{url:"/users/:userId",parent:"dashboard",templateUrl:"views/pages/dashboard/users.html?v="+window.app_version,controller:"UsersCtrl"}).state("plans-detail",{url:"/plans/:planId",parent:"dashboard",templateUrl:"views/pages/dashboard/plans.html?v="+window.app_version,controller:"PlansCtrl"}).state("plans",{url:"/plans",parent:"dashboard",templateUrl:"views/pages/dashboard/plans.html?v="+window.app_version,controller:"PlansCtrl"}).state("enlistadmin",{url:"/enlist",parent:"dashboard",templateUrl:"views/pages/dashboard/enlist.html?v="+window.app_version,controller:"EnlistAdminCtrl"}).state("crewadmin",{url:"/crew",parent:"dashboard",templateUrl:"views/pages/dashboard/crew.html?v="+window.app_version,controller:"CrewAdminCtrl"}).state("support",{url:"/support",parent:"dashboard",templateUrl:"views/pages/dashboard/support.html?v="+window.app_version,controller:"SupportCtrl"}).state("home",{url:"/home",parent:"dashboard",templateUrl:"views/pages/dashboard/home.html?v="+window.app_version}).state("reports",{url:"/reports",parent:"dashboard",templateUrl:"views/pages/dashboard/reports.html?v="+window.app_version}).state("accordion",{url:"/ui-elements/accordion",parent:"dashboard",templateUrl:"views/pages/dashboard/ui-elements/accordion.html?v="+window.app_version,controller:"AccordionDemoCtrl"}).state("alert",{url:"/ui-elements/alert",parent:"dashboard",templateUrl:"views/pages/dashboard/ui-elements/alert.html?v="+window.app_version,controller:"AlertDemoCtrl"}).state("collapse",{url:"/ui-elements/collapse",parent:"dashboard",templateUrl:"views/pages/dashboard/ui-elements/collapse.html?v="+window.app_version,controller:"CollapseDemoCtrl"}).state("datepicker",{url:"/datepicker",parent:"dashboard",templateUrl:"views/pages/dashboard/datepicker.html?v="+window.app_version,controller:"DatepickerDemoCtrl"}).state("dropdown",{url:"/ui-elements/dropdown",parent:"dashboard",templateUrl:"views/pages/dashboard/ui-elements/dropdown.html?v="+window.app_version,controller:"DropdownCtrl"}).state("other-elements",{url:"/ui-elements/other-elements",parent:"dashboard",templateUrl:"views/pages/dashboard/ui-elements/other-elements.html?v="+window.app_version}).state("modal",{url:"/ui-elements/modal",parent:"dashboard",templateUrl:"views/pages/dashboard/ui-elements/modal.html?v="+window.app_version,controller:"ModalDemoCtrl"}).state("pagination",{url:"/ui-elements/pagination",parent:"dashboard",templateUrl:"views/pages/dashboard/ui-elements/pagination.html?v="+window.app_version,controller:"PaginationDemoCtrl"}).state("popover",{url:"/ui-elements/popover",parent:"dashboard",templateUrl:"views/pages/dashboard/ui-elements/popover.html?v="+window.app_version,controller:"PopoverDemoCtrl"}).state("progressbars",{url:"/ui-elements/progressbars",parent:"dashboard",templateUrl:"views/pages/dashboard/ui-elements/progressbar.html?v="+window.app_version,controller:"ProgressDemoCtrl"}).state("tabs",{url:"/ui-elements/tabs",parent:"dashboard",templateUrl:"views/pages/dashboard/ui-elements/tabs.html?v="+window.app_version,controller:"TabsDemoCtrl"}).state("panel",{url:"/panel",parent:"dashboard",templateUrl:"views/pages/dashboard/panel.html?v="+window.app_version}).state("table",{url:"/table",parent:"dashboard",templateUrl:"views/pages/dashboard/table.html?v="+window.app_version}).state("profile",{url:"/profile",parent:"dashboard",templateUrl:"views/pages/dashboard/profile.html?v="+window.app_version}).state("grid",{url:"/grid",parent:"dashboard",templateUrl:"views/pages/dashboard/grid.html?v="+window.app_version}).state("elements",{url:"/form/elements",parent:"dashboard",templateUrl:"views/pages/dashboard/forms/elements.html?v="+window.app_version}).state("components",{url:"/form/components",parent:"dashboard",templateUrl:"views/pages/dashboard/forms/components.html?v="+window.app_version}).state("invoice",{url:"/invoice",parent:"dashboard",templateUrl:"views/pages/dashboard/invoice.html?v="+window.app_version}).state("inbox",{url:"/mail/inbox",parent:"dashboard",templateUrl:"views/pages/dashboard/mail/inbox.html?v="+window.app_version}).state("typography",{url:"/ui-elements/typography",parent:"dashboard",templateUrl:"views/pages/dashboard/ui-elements/typography.html?v="+window.app_version}).state("icons",{url:"/ui-elements/icons",parent:"dashboard",templateUrl:"views/pages/dashboard/ui-elements/icons.html?v="+window.app_version}).state("compose",{url:"/mail/compose",parent:"dashboard",templateUrl:"views/pages/dashboard/mail/compose.html?v="+window.app_version}).state("blank",{url:"/blank",parent:"dashboard",templateUrl:"views/pages/dashboard/blank.html?v="+window.app_version}).state("calendar",{url:"/calendar",parent:"dashboard",templateUrl:"views/pages/dashboard/calendar.html?v="+window.app_version}).state("signup",{url:"/signup/:userId",templateUrl:"views/pages/signup.html?v="+window.app_version,parent:"boxed",controller:"LoginCtrl"}).state("forgot-password",{url:"/forgot-password",parent:"boxed",templateUrl:"views/pages/forgot-password.html?v="+window.app_version,controller:"LoginCtrl"}).state("404-page",{url:"/404-page",parent:"boxed",templateUrl:"views/pages/404-page.html?v="+window.app_version,controller:"LoginCtrl"}).state("timepicker",{url:"/ui-elements/timepicker",parent:"dashboard",templateUrl:"views/pages/dashboard/ui-elements/timepicker.html?v="+window.app_version,controller:"TimepickerDemoCtrl"}).state("button",{url:"/ui-elements/button",parent:"dashboard",templateUrl:"views/pages/dashboard/ui-elements/button.html?v="+window.app_version,controller:"ButtonsCtrl"}).state("c3chart",{url:"/charts/c3chart",parent:"dashboard",templateUrl:"views/pages/dashboard/charts/c3chart.html?v="+window.app_version}).state("chartjs",{url:"/charts/chartjs",parent:"dashboard",templateUrl:"views/pages/dashboard/charts/chartjs.html?v="+window.app_version,controller:"ChartCtrl"}).state("terminal",{url:"/terminal",parent:"plain",templateUrl:"views/layouts/dashboard.html?v="+window.app_version,controller:"TerminalCtrl"}).state("gate",{url:"/gate",parent:"terminal",templateUrl:"views/pages/terminal/gate.html?v="+window.app_version,controller:"GateCtrl"}).state("crewuser",{url:"/crew",parent:"terminal",templateUrl:"views/pages/terminal/crew.html?v="+window.app_version,controller:"CrewUserCtrl"}).state("enlistuser",{url:"/enlist",parent:"terminal",templateUrl:"views/pages/terminal/enlist.html?v="+window.app_version,controller:"EnlistUserCtrl"}).state("account",{url:"/account",parent:"terminal",templateUrl:"views/pages/terminal/account.html?v="+window.app_version,controller:"AccountCtrl"}).state("ticket",{url:"/ticket",parent:"terminal",templateUrl:"views/pages/terminal/ticket.html?v="+window.app_version,controller:"TicketCtrl"})}]).run(["$rootScope","AuthEG",function(e,a){e.$on("$stateChangeSuccess",function(e,t,r,n,s){switch(t.name){case"signup":case"forgot-password":case"404-page":case"icons":break;default:"Traveler"==a.GetProfile()&&"dashboard"==t.parent?a.ExpirePassport():a.CheckPassport()}});var t=JSON.parse(localStorage.getItem("switched"));t&&$("body").addClass("box-section")}]),angular.module("dashyAngular").controller("LoginCtrl",["$scope","$location","ApiExodo","$state","AuthEG","$modal","$stateParams",function(e,a,t,r,n,s,o){if(e.sign={},e.controlHost=!1,e.passIcon="fa-eye",e.passType="password",e.items={title:"Registro usuarios",message:""},e.open=function(a){var t=s.open({templateUrl:"myModalContent.html",controller:"ModalInstanceCtrl",size:a,resolve:{items:function(){return e.items}}});t.result.then(function(a){e.selected=a},function(){console.log("Modal dismissed at: "+new Date)})},o.userId){var i={tokenUser:o.userId};t.getResource("users","validarTok",i).success(function(a){switch(a.estado){case 1:e.sign.host=a.usuario,e.hostView=!0,e.controlHost=!0;break;case 8:e.items.message=a.mensaje,e.open("sm"),r.go("home");break;default:r.go("404-page")}}).error(function(e){console.log(e)})}else e.hostView=!1,e.sign.host="";e.togglePass=function(){"password"==e.passType?(e.passType="text",e.passIcon="fa-eye-slash"):(e.passType="password",e.passIcon="fa-eye")},e.toggleHost=function(){0==e.hostView&&(e.sign.host="")},e.userLogin=function(){var a={correo:e.login.email,password:e.login.password};t.getResource("users","login",a).success(function(a){switch(a.estado){case 1:switch(n.setPassport(a.usuario),a.usuario.status){case"Traveler":r.go("gate");break;case"Pilot":r.go("home");break;default:r.go("404-page")}break;case 5:case 8:e.items.message=a.mensaje,e.open("sm");break;default:r.go("404-page")}}).error(function(e){console.log(e)})},e.userSign=function(){var a={keyUser:e.sign.host};t.getResource("users","validarRef",a).success(function(a){switch(a.estado){case 1:var n=(new Date).getMilliseconds(),s={anfitrion:e.sign.host,username:e.sign.name,telefono:e.sign.phone,correo:e.sign.email,password:e.sign.password,cod:n};t.getResource("users","registro",s).success(function(a){e.items.message=a.mensaje,e.open("sm"),1===a.estado&&r.go("login")}).error(function(e){console.log(e)});break;case 8:e.items.message=a.mensaje,e.open("sm");break;default:r.go("404-page")}}).error(function(e){console.log(e)})},e.userForgot=function(){var a={email:e.forgot.email,forgot:Date.now().toString()};console.info(a.forgot),t.getResource("users","recuperar",a).success(function(a){e.items.message=a.mensaje,e.open("sm")}).error(function(e){console.info(e)})}}]),angular.module("dashyAngular").controller("ModalInstanceCtrl",["$scope","$modalInstance","items",function(e,a,t){e.items=t,e.ok=function(){a.close(e.selected.item)}}]),angular.module("dashyAngular").controller("DashboardCtrl",["$scope","$state",function(e,a){e.$state=a,e.date=new Date,e.eventSources=[]}]),angular.module("dashyAngular").controller("AlertDemoCtrl",["$scope",function(e){e.alerts=[{type:"danger",msg:"Oh snap! Change a few things up and try submitting again."},{type:"info",msg:"Ok! Not bad, but you can do better."},{type:"success",msg:"Well done! You successfully read this important alert message."}],e.addAlert=function(){e.alerts.push({msg:e.message}),e.message=""},e.closeAlert=function(a){e.alerts.splice(a,1)},e.addSpecialWarnMessage=function(){growl.addWarnMessage("This adds a warn message"),growl.addInfoMessage("This adds a info message"),growl.addSuccessMessage("This adds a success message"),growl.addErrorMessage("This adds a error message")}}]),angular.module("dashyAngular").controller("ButtonsCtrl",["$scope",function(e){e.singleModel=1,e.radioModel="Middle",e.checkModel={left:!1,middle:!0,right:!1}}]),angular.module("dashyAngular").controller("CollapseDemoCtrl",["$scope",function(e){e.isCollapsed=!1}]),angular.module("dashyAngular").controller("DatepickerDemoCtrl",["$scope",function(e){e.today=function(){e.dt=new Date},e.today(),e.clear=function(){e.dt=null},e.disabled=function(e,a){return"day"===a&&(0===e.getDay()||6===e.getDay())},e.toggleMin=function(){e.minDate=e.minDate?null:new Date},e.toggleMin(),e.open=function(a){a.preventDefault(),a.stopPropagation(),e.opened=!0},e.dateOptions={formatYear:"yy",startingDay:1},e.formats=["yyyy-MM-dd","dd-MMMM-yyyy","yyyy/MM/dd","dd.MM.yyyy","shortDate"],e.format=e.formats[0]}]),angular.module("dashyAngular").controller("DropdownCtrl",["$scope","$log",function(e,a){e.items=["The first choice!","And another choice for you.","but wait! A third!"],e.status={isopen:!1},e.toggled=function(e){a.log("Dropdown is now: ",e)},e.toggleDropdown=function(a){a.preventDefault(),a.stopPropagation(),e.status.isopen=!e.status.isopen}}]),angular.module("dashyAngular").controller("ModalDemoCtrl",["$scope","$modal","$log",function(e,a,t){e.items=["item1","item2","item3"],e.open=function(r){var n=a.open({templateUrl:"myModalContent.html",controller:"ModalInstanceCtrl",size:r,resolve:{items:function(){return e.items}}});n.result.then(function(a){e.selected=a},function(){t.info("Modal dismissed at: "+new Date)})}}]),angular.module("dashyAngular").controller("ModalInstanceCtrl",["$scope","$modalInstance","items",function(e,a,t){e.items=t,e.selected={item:e.items[0]},e.ok=function(){a.close(e.selected.item)},e.cancel=function(){a.dismiss("cancel")}}]),angular.module("dashyAngular").controller("PaginationDemoCtrl",["$scope","$log",function(e,a){e.totalItems=64,e.currentPage=4,e.setPage=function(a){e.currentPage=a},e.pageChanged=function(){a.log("Page changed to: "+e.currentPage)},e.maxSize=5,e.bigTotalItems=175,e.bigCurrentPage=1}]),angular.module("dashyAngular").controller("PopoverDemoCtrl",["$scope",function(e){e.dynamicPopover="Hello, World!",e.dynamicPopoverTitle="Title"}]),angular.module("dashyAngular").controller("TooltipDemoCtrl",["$scope",function(e){e.dynamicTooltip="Hello, World!",e.dynamicTooltipText="dynamic",e.htmlTooltip="I've been made <b>bold</b>!"}]),angular.module("dashyAngular").controller("ProgressDemoCtrl",["$scope",function(e){e.max=200,e.random=function(){var a,t=Math.floor(100*Math.random()+1);a=25>t?"success":50>t?"info":75>t?"warning":"danger",e.showWarning="danger"===a||"warning"===a,e.dynamic=t,e.type=a},e.random(),e.randomStacked=function(){e.stacked=[];for(var a=["success","info","warning","danger"],t=0,r=Math.floor(4*Math.random()+1);r>t;t++){var n=Math.floor(4*Math.random());e.stacked.push({value:Math.floor(30*Math.random()+1),type:a[n]})}},e.randomStacked()}]),angular.module("dashyAngular").controller("TabsDemoCtrl",["$scope","$window",function(e,a){e.tabs=[{title:"Dynamic Title 1",content:"Dynamic content 1"},{title:"Dynamic Title 2",content:"Dynamic content 2",disabled:!0}],e.alertMe=function(){setTimeout(function(){a.alert("You've selected the alert tab!")})}}]),angular.module("dashyAngular").controller("ChartCtrl",["$scope","$timeout",function(e,a){e.line={labels:["January","February","March","April","May","June","July"],data:[[65,59,80,81,56,55,40],[28,48,40,19,86,27,90]],colours:["#a2d19e","#80b1cb","#e8b769","#d57d6d","#06c5ac"],onClick:function(e,a){console.log(e,a)}},e.bar={labels:["2006","2007","2008","2009","2010","2011","2012"],data:[[65,59,80,81,56,55,40],[28,48,40,19,86,27,90]],colours:["#a2d19e","#80b1cb","#e8b769","#d57d6d","#06c5ac"]},e.donut={labels:["Download Sales","In-Store Sales","Mail-Order Sales"],data:[300,500,100],colours:["#a2d19e","#80b1cb","#e8b769","#d57d6d","#06c5ac"]},e.pie={labels:["Download Sales","In-Store Sales","Mail-Order Sales"],data:[300,500,100],colours:["#a2d19e","#80b1cb","#e8b769","#d57d6d","#06c5ac"]}}]),angular.module("dashyAngular").controller("todoCtrl",["$scope",function(e){function a(){for(var e="",a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=0;5>t;t++)e+=a.charAt(Math.floor(Math.random()*a.length));return e}e.todos=[{text:"Meeting with Nabindar Singh.",done:!1,id:"option1"},{text:"Exercise at 6:pm with Nicholas.",done:!1,id:"option3"},{text:"Avengers Age of Ultron.",done:!1,id:"option4"},{text:"Henna birthday at Mezbaan.",done:!1,id:"option5"}],e.addTodo=function(){e.todos.push({text:e.formTodoText,done:!1,id:a()}),e.formTodoText=""}}]),angular.module("dashyAngular").controller("PlansCtrl",["$scope","ApiExodo","$stateParams","$state",function(e,a,t,r){var n=0;if(e.invalidNotification=!1,e.notifications={},e.showList=!0,t.planId){e.showList=!1;var s={idplan:parseInt(t.planId)};console.log(s),a.getResource("plans","listar",s).success(function(a){e.plan=a.planes[0],e.plan.amount=parseInt(e.plan.amount),"1"===e.plan.enabled?e.plan.enabled=!0:e.plan.enabled=!1}).error(function(e){console.info(e)})}else a.getResource("plans","listar",null).success(function(a){e.planes=a.planes}).error(function(e){console.info(e)});e.editar=function(e){r.go("plans-detail",{planId:e})},e.planSave=function(){if(t.planId){var r=e.plan;a.getResource("plans","salvar",r).success(function(a){e.advise={title:"Plan",message:"Plan Actualizado",style:"growl-primary fading"},e.addNotify(e.advise)}).error(function(a){console.info(a),e.advise={title:"Plan",message:"Error al actualizar",style:"growl-error fading"},e.addNotify(e.advise)})}else{var r=e.plan;a.getResource("plans","crear",r).success(function(a){e.planes.push(e.plan),e.plan={},e.advise={title:"Plan",message:"Plan Creado",style:"growl-primary fading"},e.addNotify(e.advise)}).error(function(a){console.info(a),e.advise={title:"Plan",message:"Error al crear",style:"growl-error fading"},e.addNotify(e.advise)})}},e.addNotify=function(a){var t;return a?(t=n++,e.invalidNotification=!1,void(e.notifications[t]=a)):void(e.invalidNotification=!0)}}]),angular.module("dashyAngular").controller("UsersCtrl",["$scope","ApiExodo","$stateParams","$state",function(e,a,t,r){var n=0;if(e.invalidNotification=!1,e.notifications={},e.showList=!0,t.userId){e.showList=!1;var s={iduser:t.userId};a.getResource("users","listar",s).success(function(a){e.user=a.usuarios[0],e.user.phone=parseInt(e.user.phone),"1"===e.user.enabled?e.user.enabled=!0:e.user.enabled=!1}).error(function(e){console.info(e)}),a.getResource("plans","consultar",s).success(function(a){console.log(a),e.planes=a.planes}).error(function(e){console.info(e)})}else a.getResource("users","listar",null).success(function(a){e.users=a.usuarios}).error(function(e){console.info(e)});e.editar=function(e){r.go("users-detail",{userId:e})},e.activeUser=function(){var t={iduser:e.user.id_users,enabled:e.user.enabled,email:e.user.mail};a.getResource("users","activar",t).success(function(a){"1"==a?e.advise={title:"Usuario",message:"Usuario Activado",style:"growl-primary fading"}:e.advise={title:"Usuario",message:"Usuario Desactivado",style:"growl-primary fading"},e.addNotify(e.advise)}).error(function(e){console.info(e)})},e.suscribe=function(t){var r={iduser:e.user.id_users,plan:t,correo:e.user.mail};a.getResource("voucher","inscribir",r).success(function(a){"1"==a.estado&&(e.advise={title:"Usuario",message:"Usuario Inscrito",style:"growl-primary fading"}),e.addNotify(e.advise)}).error(function(e){console.info(e)})},e.addNotify=function(a){var t;return a?(t=n++,e.invalidNotification=!1,void(e.notifications[t]=a)):void(e.invalidNotification=!0)}}]),angular.module("dashyAngular").controller("SupportCtrl",["$scope","ApiExodo","$stateParams","$state",function(e,a,t,r){var n=0;if(e.invalidNotification=!1,e.notifications={},e.showList=!0,t.planId){e.showList=!1;var s={idplan:parseInt(t.planId)};console.log(s),a.getResource("plans","listar",s).success(function(a){e.plan=a.planes[0],e.plan.amount=parseInt(e.plan.amount),"1"===e.plan.enabled?e.plan.enabled=!0:e.plan.enabled=!1}).error(function(e){console.info(e)})}else a.getResource("plans","listar",null).success(function(a){e.planes=a.planes}).error(function(e){console.info(e)});e.editar=function(e){r.go("plans-detail",{planId:e})},e.planSave=function(){if(t.planId){var r=e.plan;a.getResource("plans","salvar",r).success(function(a){e.advise={title:"Plan",message:"Plan Actualizado",style:"growl-primary fading"},e.addNotify(e.advise)}).error(function(a){console.info(a),e.advise={title:"Plan",message:"Error al actualizar",style:"growl-error fading"},e.addNotify(e.advise)})}else{var r=e.plan;a.getResource("plans","crear",r).success(function(a){e.plan.id_plans=a.plan,e.planes.push(e.plan),e.advise={title:"Plan",message:"Plan Creado",style:"growl-primary fading"},e.addNotify(e.advise)}).error(function(a){console.info(a),e.advise={title:"Plan",message:"Error al cear",style:"growl-error fading"},e.addNotify(e.advise)})}},e.addNotify=function(a){var t;return a?(t=n++,e.invalidNotification=!1,void(e.notifications[t]=a)):void(e.invalidNotification=!0)}}]),angular.module("dashyAngular").controller("TicketCtrl",["$scope","ApiExodo","$stateParams","$state",function(e,a,t,r){var n=0;e.invalidNotification=!1,e.notifications={},e.showList=!0,e.addNotify=function(a){var t;return a?(t=n++,e.invalidNotification=!1,void(e.notifications[t]=a)):void(e.invalidNotification=!0)}}]),angular.module("dashyAngular").controller("TerminalCtrl",["$scope","$state",function(e,a){e.$state=a,e.date=new Date,e.eventSources=[]}]),angular.module("dashyAngular").controller("EnlistAdminCtrl",["$scope","AuthEG","ApiExodo","$modal",function(e,a,t,r){e.userId=a.GetUser(),e.userToken=a.GetToken(),e.userVoucher={},e.plansUsers={},e.data={},e.enlist={},e.items={title:"Registro usuarios",message:""},e.invitar=function(){var r={mail:e.enlist.mail,name:e.enlist.name,userRef:a.GetUserName(),userId:e.userId,link:e.userToken};console.log(r),t.getResource("guest","invitar",r).success(function(a){console.log(a),e.items.message=a.mensaje,e.open("sm")}).error(function(e){console.info(e)})};var n={userId:e.userId};t.getResource("voucher","consultar",n).success(function(a){e.planUsers=a.vouchers}).error(function(e){console.info(e)}),e.consultar=function(){var a={voucherId:e.data.selectedPlan.id_voucher,plan:e.data.selectedPlan.id_plans};t.getResource("crew","listar",a).success(function(a){switch(a.estado){case 1:e.userVoucher=a.users,e.noVoucher=!1;break;case 2:e.userVoucher={},e.noVoucher=a.mensaje}}).error(function(e){console.info(e)})},e.getAvatar=function(e,a){switch(e){case"0":switch(a){case 1:return"images/CoPilot-woman.png";case 2:return"images/Stewardess-woman.png";case 3:return"images/passenger-woman1.png";case 4:return"images/passenger-woman2.png";case 5:return"images/passenger-woman3.png"}break;case"1":switch(a){case 1:return"images/CoPilot-man.png";case 2:return"images/Stewardess-man.png";case 3:return"images/passenger-man1.png";case 4:return"images/passenger-man2.png";case 5:return"images/passenger-man3.png"}break;default:return"images/exodo-logo.png"}},e.open=function(a){var t=r.open({templateUrl:"myModalContent.html",controller:"ModalInstanceCtrl",size:a,resolve:{items:function(){return e.items}}});t.result.then(function(a){e.selected=a},function(){console.log("Modal dismissed at: "+new Date)})}}]),angular.module("dashyAngular").controller("EnlistUserCtrl",["$scope","AuthEG","ApiExodo","$modal",function(e,a,t,r){e.userId=a.GetUser(),e.userToken=a.GetToken(),e.userVoucher={},e.plansUsers={},e.data={},e.enlist={},e.items={title:"Registro usuarios",message:""},e.invitar=function(){var r={mail:e.enlist.mail,name:e.enlist.name,userRef:a.GetUserName(),userId:e.userId,link:e.userToken};console.log(r),t.getResource("guest","invitar",r).success(function(a){console.log(a),e.items.message=a.mensaje,e.open("sm")}).error(function(e){console.info(e)})};var n={userId:e.userId};t.getResource("voucher","consultar",n).success(function(a){e.planUsers=a.vouchers}).error(function(e){console.info(e)}),e.consultar=function(){var a={voucherId:e.data.selectedPlan.id_voucher,plan:e.data.selectedPlan.id_plans};t.getResource("crew","listar",a).success(function(a){switch(a.estado){case 1:e.userVoucher=a.users,e.noVoucher=!1;break;case 2:e.userVoucher={},e.noVoucher=a.mensaje}}).error(function(e){console.info(e)})},e.getAvatar=function(e,a){switch(e){case"0":switch(a){case 1:return"images/CoPilot-woman.png";case 2:return"images/Stewardess-woman.png";case 3:return"images/passenger-woman1.png";case 4:return"images/passenger-woman2.png";case 5:return"images/passenger-woman3.png"}break;case"1":switch(a){case 1:return"images/CoPilot-man.png";case 2:return"images/Stewardess-man.png";case 3:return"images/passenger-man1.png";case 4:return"images/passenger-man2.png";case 5:return"images/passenger-man3.png"}break;default:return"images/exodo-logo.png"}},e.open=function(a){var t=r.open({templateUrl:"myModalContent.html",controller:"ModalInstanceCtrl",size:a,resolve:{items:function(){return e.items}}});t.result.then(function(a){e.selected=a},function(){console.log("Modal dismissed at: "+new Date)})}}]),angular.module("dashyAngular").controller("GateCtrl",["$scope",function(e){}]),angular.module("dashyAngular").controller("AccountCtrl",["$scope","AuthEG","ApiExodo",function(e,a,t){e.account={},e.account.userId=a.GetUser();var r=0;e.invalidNotification=!1,e.notifications={},e.passIconO="fa-eye",e.passIconN="fa-eye",e.passTypeO="password",e.passTypeN="password",e.togglePassO=function(){"password"==e.passTypeO?(e.passTypeO="text",e.passIconO="fa-eye-slash"):(e.passTypeO="password",e.passIconO="fa-eye")},e.togglePassN=function(){"password"==e.passTypeN?(e.passTypeN="text",e.passIconN="fa-eye-slash"):(e.passTypeN="password",e.passIconN="fa-eye")},e.getToday=function(){return d=new Date,e.month=""+(d.getMonth()+1),e.day=""+d.getDate(),e.year=d.getFullYear()-18,e.month.length<2&&(e.month="0"+e.month),e.day.length<2&&(e.day="0"+e.day),[e.year,e.month,e.day].join("-")},e.mindate=new Date(e.getToday());var n={iduser:e.account.userId};t.getResource("users","listarUsr",n).success(function(a){e.account=a.cuenta,e.account.phone=parseInt(e.account.phone),e.account.phone_house=parseInt(e.account.phone_house),e.account.phone_office=parseInt(e.account.phone_office),null==e.account.date_born&&(e.account.date_born=e.getToday())}).error(function(e){console.info(e)}),e.clear=function(){e.dt=null},e.toggleMin=function(){e.minDate=e.minDate?null:new Date},e.toggleMin(),e.open=function(a){a.preventDefault(),a.stopPropagation(),e.opened=!0},e.dateOptions={formatYear:"yy",startingDay:1},e.accountSave=function(){console.log(e.account),t.getResource("users","actualizar",e.account).success(function(a){e.advise={title:"Gestión de Usuario",message:"Datos Actualizados",style:"growl-primary fading"},e.addNotify(e.advise)}).error(function(a){console.info(a),e.advise={title:"Gestión de Usuario",message:"Error al actualizar",style:"growl-error fading"},e.addNotify(e.advise)})},e.passChange=function(){e.advise={title:"Gestión de Usuario",message:"Contraseña Actualizada",style:"growl-primary fading"},e.addNotify(e.advise)},e.addNotify=function(a){var t;return a?(t=r++,e.invalidNotification=!1,void(e.notifications[t]=a)):void(e.invalidNotification=!0)}}]),angular.module("dashyAngular").controller("CrewAdminCtrl",["$scope","AuthEG","ApiExodo","$modal",function(e,a,t,r){e.userId=a.GetUser(),e.userToken=a.GetToken(),e.userVoucher={},e.plansUsers={},e.data={},e.enlist={},e.items={title:"Registro usuarios",message:""},e.invitar=function(){var r={mail:e.enlist.mail,name:e.enlist.name,userRef:a.GetUserName(),userId:e.userId,link:e.userToken};console.log(r),t.getResource("guest","invitar",r).success(function(a){console.log(a),e.items.message=a.mensaje,e.open("sm")}).error(function(e){console.info(e)})};var n={userId:e.userId};t.getResource("voucher","consultar",n).success(function(a){e.planUsers=a.vouchers}).error(function(e){console.info(e)}),e.consultar=function(){var a={voucherId:e.data.selectedPlan.id_voucher,plan:e.data.selectedPlan.id_plans};t.getResource("crew","listar",a).success(function(a){e.userVoucher=a.users,e.LimitGen=1}).error(function(e){console.info(e)})},e.getAvatar=function(e,a){switch(e){case"0":switch(a){case 1:return"images/CoPilot-woman.png";case 2:return"images/Stewardess-woman.png";case 3:return"images/passenger-woman1.png";case 4:return"images/passenger-woman2.png";case 5:return"images/passenger-woman3.png"}break;case"1":switch(a){case 1:return"images/CoPilot-man.png";case 2:return"images/Stewardess-man.png";case 3:return"images/passenger-man1.png";case 4:return"images/passenger-man2.png";case 5:return"images/passenger-man3.png"}break;default:return"images/exodo-logo.png"}},e.open=function(a){var t=r.open({templateUrl:"myModalContent.html",controller:"ModalInstanceCtrl",size:a,resolve:{items:function(){return e.items}}});t.result.then(function(a){e.selected=a},function(){console.log("Modal dismissed at: "+new Date)})}}]),angular.module("dashyAngular").controller("CrewUserCtrl",["$scope","AuthEG","ApiExodo","$modal",function(e,a,t,r){e.userId=a.GetUser(),e.userToken=a.GetToken(),e.userVoucher={},e.plansUsers={},e.data={},e.enlist={},e.items={title:"Registro usuarios",message:""},e.invitar=function(){var r={mail:e.enlist.mail,name:e.enlist.name,userRef:a.GetUserName(),userId:e.userId,link:e.userToken};console.log(r),t.getResource("guest","invitar",r).success(function(a){console.log(a),e.items.message=a.mensaje,e.open("sm")}).error(function(e){console.info(e)})};var n={userId:e.userId};t.getResource("voucher","consultar",n).success(function(a){e.planUsers=a.vouchers}).error(function(e){console.info(e)}),e.consultar=function(){var a={voucherId:e.data.selectedPlan.id_voucher,plan:e.data.selectedPlan.id_plans};t.getResource("crew","listar",a).success(function(a){e.userVoucher=a.users,e.LimitGen=1}).error(function(e){console.info(e)})},e.getAvatar=function(e,a){switch(e){case"0":switch(a){case 1:return"images/CoPilot-woman.png";case 2:return"images/Stewardess-woman.png";case 3:return"images/passenger-woman1.png";case 4:return"images/passenger-woman2.png";case 5:return"images/passenger-woman3.png"}break;case"1":switch(a){case 1:return"images/CoPilot-man.png";case 2:return"images/Stewardess-man.png";case 3:return"images/passenger-man1.png";case 4:return"images/passenger-man2.png";case 5:return"images/passenger-man3.png"}break;default:return"images/exodo-logo.png"}},e.open=function(a){var t=r.open({templateUrl:"myModalContent.html",controller:"ModalInstanceCtrl",size:a,resolve:{items:function(){return e.items}}});t.result.then(function(a){e.selected=a},function(){console.log("Modal dismissed at: "+new Date)})}}]),angular.module("dashyAngular").directive("pageheader",["AuthEG",function(e){return{templateUrl:"scripts/directives/pageheader/pageheader.html?v="+window.app_version,restrict:"E",replace:!0,controller:["$scope","AuthEG",function(e,a){e.username=a.GetUserName(),e.usercode=a.GetUser()}],scope:{pagename:"@",subtitle:"@"}}}]),angular.module("dashyAngular").directive("sidenav",function(){return{templateUrl:"scripts/directives/sidenav/sidenav.html?v="+window.app_version,restrict:"E",replace:!0,controller:["$scope","$timeout","$rootScope",function(e,a,t){e.tabActive=[],e.$watch("tabActive",function(){e.perfectSCrollbarObj&&setTimeout(function(){e.perfectSCrollbarObj.perfectScrollbar("update")},100)},!0),e.menuToggle=function(){$("body").toggleClass("menu-hidden"),e.tabActive=[1],console.log($("body").hasClass("menu-hidden")),1==$("body").hasClass("menu-hidden")?(t.$broadcast("resize"),e.perfectSCrollbarObj.perfectScrollbar("destroy"),$(document).click(function(e){$(".sidenav-sub-menu").is(e.target)||$(".sidenav-sub-menu").hide()})):(a(function(){t.$broadcast("resize"),e.perfectSCrollbarObj.perfectScrollbar()},100),$(document).click(function(e){$(".sidenav-sub-menu").is(e.target)||$(".sidenav-sub-menu").show()}))},1==$("body").hasClass("menu-hidden")}],link:function(e,a,t){setTimeout(function(){e.perfectSCrollbarObj=a.find(".tab-content").perfectScrollbar()},0)}}}),angular.module("dashyAngular").directive("menu",["AuthEG",function(e){return{templateUrl:function(){var a=e.GetProfile();switch(a){case"Pilot":return"scripts/directives/sidenav/menu/menuAdmin.html?v="+window.app_version;case"Traveler":return"scripts/directives/sidenav/menu/menuUser.html?v="+window.app_version;
}},restrict:"E",replace:!0,controller:["$scope","AuthEG",function(e,a){e.selectedMenu="dashboard",e.showingSubNav=0,e.showSubNav=function(a){a==e.showingSubNav?e.showingSubNav=0:e.showingSubNav=a},e.username=a.GetUserName(),e.getAvatar=function(){switch(a.GetGender()){case"0":return"images/Pilot-man.png";case"1":return"images/Pilot-women.png";default:return"images/exodo-logo.png"}},e.logOut=function(){a.ExpirePassport()}}]}}]),angular.module("dashyAngular").directive("comments",function(){return{templateUrl:"scripts/directives/sidenav/comments/comments.html?v="+window.app_version,restrict:"E",replace:!0}}),angular.module("dashyAngular").directive("relinkEvent",["$rootScope",function(e){return{transclude:"element",restrict:"A",link:function(a,t,r,n,s){var o=null,i=function(){o&&(o.remove(),o=null),s(function(e){t.parent().append(e),o=e})};i(),e.$on(r.relinkEvent,i)}}}]),angular.module("dashyAngular").directive("charts",function(){return{templateUrl:"scripts/directives/sidenav/charts/charts.html?v="+window.app_version,restrict:"E",replace:!0}}),angular.module("dashyAngular").directive("todolist",function(){return{templateUrl:"scripts/directives/to-do-list/to-do.html?v="+window.app_version,restrict:"E",replace:!0,controller:["$scope",function(e){setTimeout(function(){$(".todo-list-wrap").perfectScrollbar()},100)}]}}),angular.module("dashyAngular").directive("calendar",function(){return{templateUrl:"scripts/directives/sidenav/calendar/calendar.html?v="+window.app_version,restrict:"E",replace:!0}}),angular.module("dashyAngular").directive("notification",function(){return{templateUrl:"scripts/directives/sidenav/notification/notification.html",restrict:"E",replace:!0}}),angular.module("dashyAngular").directive("topnav",function(){return{templateUrl:"scripts/directives/topnav/topnav.html?v="+window.app_version,restrict:"E",replace:!0,controller:["$scope","$rootScope","AuthEG",function(e,a,t){e.toggleBodyLayout=function(){$("body").toggleClass("box-section"),e.val=!e.val},e.$watch("val",function(){1==e.val?(alert("message"),a.$broadcast("resize")):0==e.val&&a.$broadcast("resize"),localStorage.setItem("switched",JSON.stringify(e.val))}),e.val=JSON.parse(localStorage.getItem("switched")),e.showMenu=function(){$("#app-container").toggleClass("push-right")},e.changeTheme=function(e){$("<link>").appendTo("head").attr({type:"text/css",rel:"stylesheet"}).attr("href","styles/app-"+e+".css"),console.log("hey")},e.logOut=function(){t.ExpirePassport()}}]}}),angular.module("dashyAngular").directive("footer",function(){return{templateUrl:"scripts/directives/footer/footer.html?v="+window.app_version,restrict:"E",replace:!0}}),angular.module("dashyAngular").directive("stats",function(){return{templateUrl:"scripts/directives/stats/stats.html?v="+window.app_version,restrict:"E",replace:!0,scope:{icon:"@",value:"@",text:"@",bgclass:"@"}}}),angular.module("dashyAngular").directive("homeChart",function(){return{templateUrl:"scripts/directives/home-chart/home-chart.html?v="+window.app_version,restrict:"E",replace:!0,controller:["$scope",function(e){e.line={labels:["","","","","","",""],data:[[65,59,80,81,56,55,40],[28,48,40,19,86,27,90]],colours:["#a2d19e","#e8b769","#d57d6d","#06c5ac","#80b1cb"],onClick:function(e,a){console.log(e,a)}}}]}}),angular.module("dashyAngular").directive("passwordStrength",[function(){return{require:"ngModel",restrict:"E",scope:{password:"=ngModel"},link:function(e,a,t,r){e.$watch("password",function(a){function t(e){return e?1:0}e.strength=t(a&&a.length>=8)+t(a&&/[A-z]/.test(a))+t(a&&/(?=.*\W)/.test(a))+t(a&&/\d/.test(a))},!0)},template:'<div class="pass-progress"><div class="progress-bar progress-bar-danger" style="width: {{strength >= 1 ? 25 : 0}}%"></div><div class="progress-bar progress-bar-warning" style="width: {{strength >= 2 ? 25 : 0}}%"></div><div class="progress-bar progress-bar-warning" style="width: {{strength >= 3 ? 25 : 0}}%"></div><div class="progress-bar progress-bar-success" style="width: {{strength >= 4 ? 25 : 0}}%"></div></div>'}}]).directive("patternValidator",[function(){return{require:"ngModel",restrict:"A",link:function(e,a,t,r){r.$parsers.unshift(function(e){var a=new RegExp(t.patternValidator),n=a.test(e);return r.$setValidity("passwordPattern",n),e})}}}]),angular.module("dashyAngular").factory("ApiExodo",["$http",function(e){return{getResource:function(a,t,r){var n="http://apiexodo.exodogroup.com/v1/"+a+"/"+t,s={method:"POST",url:n,headers:{"Content-Type":void 0},data:r};return e(s)}}}]),angular.module("dashyAngular").factory("AuthEG",["$state","$crypto",function(e,a){return{setPassport:function(e){var t=a.encrypt(e.tokenApi),r=a.encrypt(e.iduser,e.tokenApi),n=a.encrypt(e.nombre,e.tokenApi),s=a.encrypt(e.correo,e.tokenApi),o=a.encrypt(e.status,e.tokenApi),i=a.encrypt(e.sex,e.tokenApi),l=Date.now().toString(),c=a.encrypt(l,e.tokenApi),u=[t,r,n,s,o,c,i];return localStorage.setItem("KEG",u),!0},CheckPassport:function(){if(void 0===localStorage.KEG||null===localStorage.KEG)e.go("login");else{var t=localStorage.getItem("KEG");if(t){var r=t.split(","),n=a.decrypt(r[0]),s=Date.now().toString(),o=a.decrypt(r[5],n);if(parseInt(s)-parseInt(o)>36e5)localStorage.removeItem("KEG"),e.go("login");else{var i=Date.now().toString(),o=a.encrypt(i,n),l=[r[0],r[1],r[2],r[3],r[4],o,r[6]];localStorage.setItem("KEG",l)}}}},GetUser:function(){var e=localStorage.getItem("KEG");if(e){var t=e.split(","),r=a.decrypt(t[0]),n=a.decrypt(t[1],r);return n}},GetUserName:function(){var e=localStorage.getItem("KEG");if(e){var t=e.split(","),r=a.decrypt(t[0]),n=a.decrypt(t[2],r);return n}},GetProfile:function(){var e=localStorage.getItem("KEG");if(e){var t=e.split(","),r=a.decrypt(t[0]),n=a.decrypt(t[4],r);return n}},GetToken:function(){var e=localStorage.getItem("KEG");if(e){var t=e.split(","),r=a.decrypt(t[0]);return r}},GetGender:function(){var e=localStorage.getItem("KEG");if(e){var t=e.split(","),r=a.decrypt(t[0]),n=a.decrypt(t[6],r);return n}},ExpirePassport:function(){localStorage.removeItem("KEG"),e.go("login")}}}]);